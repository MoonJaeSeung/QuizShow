<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="headerFragemnet">
  <head>
    <!-- Styles ... -->
    <script>
      document.addEventListener("DOMContentLoaded", (event) => {
        const cookieValue = getCookieValue("nick");
        const mainLink = document.querySelector('.main');

        if (cookieValue) {
          mainLink.href = "/choice";
        } else {
          mainLink.href = "/";
        }
      });

      function getCookieValue(cookieName) {
        const name = cookieName + "=";
        const decodedCookie = decodeURIComponent(document.cookie);
        const cookieArray = decodedCookie.split(';');

        for (let i = 0; i < cookieArray.length; i++) {
          let cookie = cookieArray[i];
          while (cookie.charAt(0) === ' ') {
            cookie = cookie.substring(1);
          }
          if (cookie.indexOf(name) === 0) {
            return cookie.substring(name.length, cookie.length);
          }
        }

        return "";
      }
    </script>
  </head>
  <header>
    <a class="main">30초</a>
    <a class="sub" href="/">회원으로 이용하기</a>
  </header>
</th:block>
</html>